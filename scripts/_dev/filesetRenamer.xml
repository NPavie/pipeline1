<?xml version="1.0" encoding="utf-8"?>
<taskScript version="2.0" name="filesetRenamer">
	<nicename>Fileset renamer</nicename>
	<description>Perform renaming of select files in a fileset using customizable name patterns</description>
   	<documentation uri="../../doc/scripts/int_daisy_filesetRenamer.html"/>
     <comment>
	     Commandline template (dont forget to modify paths):
	         D:\data\workspace\dmfc\scripts\_dev\filesetRenamer.xml 
	                --inputFile=E:\dmfctest\hauy.202.rev4\ncc.html 
	                --outputPath=E:\dmfctest\hauy.202.rev4\out\
   	                --renamingPattern=uid+seq+label
     
     </comment>
	
	<parameter name="inputFile" value="" required="true">
		<nicename>input</nicename>
		<description>input manifest file (NCC, OPF, etc)</description>
		<datatype>
			<file mime="application/xml" type="input"/>
		</datatype>
	</parameter>
	
	<parameter name="outputPath" value="" required="true">
		<nicename>output path</nicename>
		<description>output directory</description>
		<datatype>
			<file mime="application/x-filesystemDirectory" type="output"/>
		</datatype>
	</parameter>

	<parameter name="renamingPattern" value="seq+label" required="false">
		<nicename>renaming pattern</nicename>
		<description>renaming pattern to apply - see documentation</description>
		<datatype>
			<enum>
			  <item nicename="seq+label" value="seq+label" />
			  <item nicename="uid+seq" value="uid+seq" />
			  <item nicename="random" value="rnd(2)" />
  			  <item nicename="uid+random" value="uid+rnd(2)" />		
  			  <item nicename="uid+seq+label" value="uid+seq+label" />		  			  	  
			</enum>
		</datatype>
	</parameter>

	<parameter name="exclude" value="XmlFile, CssFile, ImageFile" required="false">
		<nicename>file types to exclude</nicename>
		<description>comma separated list of file types to exclude from renaming, see documentation</description>
		<datatype>
			<string/>
		</datatype>
	</parameter>

	<parameter name="filesystemSafe" value="true" required="false">
		<nicename>use filesystem safe names</nicename>
		<description>Use only the characters A-Z,a-z,0-9, hyphen and underscore in output filenames</description>
		<datatype>
			<boolean/>
		</datatype>
	</parameter>
		
	<task name="int_daisy_filesetRenamer" interactive="false">
		<parameter>
			<name>input</name>
			<value>${inputFile}</value>
		</parameter>
					
		<parameter>
			<name>output</name>
			<value>${outputPath}</value>
		</parameter>		
		
		<parameter>
			<name>renamingPattern</name>
			<value>${renamingPattern}</value>
		</parameter>	

		<parameter>
			<name>exclude</name>
			<value>${exclude}</value>
		</parameter>

		<parameter>
			<name>filesystemSafe</name>
			<value>${filesystemSafe}</value>
		</parameter>
						
	</task>


</taskScript>
